<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>CodeSkill12</title>
    <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.6.0.css">
</head>
<body>
<div id="qunit"></div>
<div id="qunit-fixture"></div>
<script src="https://code.jquery.com/qunit/qunit-2.6.0.js"></script>
<script src="utils.js"></script>
<script src="removeDuplicateChars.js"></script>
<script src="scheduleMeeting.js"></script>
<script src="scheduleMeeting_withDateObj.js"></script>
<script src="huffmanCoding.js"></script>
<script>
    QUnit.test( "Remove duplicate characters from a string", ( assert ) => {
        assert.equal(measureTimeToExecute(removeDuplicateChars, 'aabcded'), 'abcde');

        const long1 = 'a'.repeat(100000);
        assert.equal(measureTimeToExecute(removeDuplicateChars, long1), 'a');

        const long2 = 'ab'.repeat(100000);
        assert.equal(measureTimeToExecute(removeDuplicateChars, long2), 'ab');

        const long3 = 'abc'.repeat(100000);
        assert.equal(measureTimeToExecute(removeDuplicateChars, long3), 'abc');

        const long4 = 'abcd'.repeat(100000);
        assert.equal(measureTimeToExecute(removeDuplicateChars, long4), 'abcd');

        const long5 = 'abcde'.repeat(100000);
        assert.equal(measureTimeToExecute(removeDuplicateChars, long5), 'abcde');

        const long10 = 'abcdefghij'.repeat(100000);
        assert.equal(measureTimeToExecute(removeDuplicateChars, long10), 'abcdefghij');

    });

    QUnit.test("Find a date for a meeting", (assert) => {
        const availability1 = [
            [['2018-05-01', '2018-05-03'], ['2018-05-10', '2018-05-18']],
            [['2018-05-05', '2018-05-09'], ['2018-05-07', '2018-05-11']]
        ];
        assert.equal(scheduleMeeting(availability1), '2018-05-10');

        const availability2 = [
            [['2018-05-02', '2018-05-06'], ['2018-05-16', '2018-05-20'], ['2018-05-24', '2018-05-28']],
            [['2018-05-07', '2018-05-11'], ['2018-05-12', '2018-05-15'], ['2018-05-20', '2018-05-21']]
        ];
        assert.equal(scheduleMeeting(availability2), '2018-05-20');

        const availability3 = [
            [['2018-02-01', '2018-02-05'], ['2018-02-07', '2018-02-10'], ['2018-02-14', '2018-02-16']],
            [['2018-02-12', '2018-02-15']]
        ];
        assert.equal(scheduleMeeting(availability3), '2018-02-14');

        const availability4 = [
            [['2018-06-02', '2018-06-05'], ['2018-06-11', '2018-06-15'], ['2018-06-20', '2018-06-27']],
            [['2018-06-07', '2018-06-10'], ['2018-06-20', '2018-06-27']]
        ];
        assert.equal(scheduleMeeting(availability4), '2018-06-20');

        const availability5 = [
            [['2018-07-17', '2018-07-21'], ['2018-07-25', '2018-08-02'], ['2018-08-03', '2018-08-06']],
            [['2018-07-07', '2018-07-10'], ['2018-07-13', '2018-07-16'], ['2018-07-22', '2018-07-26'], ['2018-07-30', '2018-08-04']]
        ];
        assert.equal(scheduleMeeting(availability5), '2018-07-25');

        const availability6 = [
            [['2019-01-02', '2019-01-09'], ['2019-01-15', '2019-01-20'], ['2019-01-21', '2019-01-30']],
            [['2018-11-11', '2019-01-01'], ['2019-01-10', '2019-01-13'], ['2019-01-23', '2019-01-24']]
        ];
        assert.equal(scheduleMeeting(availability6), '2019-01-23');
    });

    QUnit.test("Return null if a date for a meeting cannot be found", (assert) => {
        const availability1 = [
            [['2018-06-02', '2018-06-08'], ['2018-06-20', '2018-06-25']],
            []
        ];
        assert.strictEqual(scheduleMeeting(availability1), null);

        const availability2 = [
            [],
            [['2018-06-02', '2018-06-08'], ['2018-06-20', '2018-06-25']]
        ];
        assert.strictEqual(scheduleMeeting(availability2), null);

        const availability3 = [
            [['2018-06-02', '2018-06-08'], ['2018-06-14', '2018-06-17'], ['2018-06-20', '2018-06-25']],
            [['2018-06-09', '2018-06-13'], ['2018-06-28', '2018-07-05']]
        ];
        assert.equal(scheduleMeeting(availability3), null);
    });

    QUnit.test("Compare execution time for the scheduleMeeting function with and without JS Date object", (assert) => {
        const availability = [
            [['2018-05-02', '2018-05-06'], ['2018-05-16', '2018-05-20'], ['2018-05-24', '2018-05-28']],
            [['2018-05-07', '2018-05-11'], ['2018-05-12', '2018-05-15'], ['2018-05-20', '2018-05-21']]
        ];

        assert.equal(measureTimeToExecute(scheduleMeeting, availability), '2018-05-20');
        assert.equal(measureTimeToExecute(scheduleMeeting_withDateObj, availability), '2018-05-20');
    });

    QUnit.skip('Should skip earlier dates to make fewer comparisons', (assert) => {
        const availability = [
            [['2018-07-17', '2018-07-21'], ['2018-07-25', '2018-08-02'], ['2018-08-03', '2018-08-06']],
            [['2018-07-07', '2018-07-10'], ['2018-07-13', '2018-07-16'], ['2018-07-22', '2018-07-26'], ['2018-07-30', '2018-08-04']]
        ];
        assert.equal(scheduleMeeting(availability), '2018-07-25');
    });
</script>
</body>
</html>